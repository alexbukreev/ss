# Руководство пользователя — Импорт / Экспорт в Story Squares

Этот документ объясняет, как загрузить изображения, сохранить коллекцию, сделать PDF и работать с CSV.

---

## 1) Импорт изображений
**Кнопка:** `Choose images` — выберите файлы на компьютере.  
Поддерживаются PNG / JPEG и др. Количество ограничено настройкой «Cards: X / MAX» вверху.

---

## 2) Импорт из CSV
**Кнопка:** `Import CSV` — выберите CSV‑файл.  
Файл должен содержать как минимум колонку `url` — ссылка на картинку (http/https или data:).

### 2.1 Формат CSV
- Разделитель: запятая **или** точка с запятой. Кавычки для значений — поддерживаются.
- Заголовок первой строки обязателен, как минимум поле `url`. Дополнительно можно указывать поля для слоёв.

Пример заголовка:
```
url,caption,layer_1_text,layer_2_text,layer_3_text
```

### 2.2 Как CSV влияет на карточки
- Каждая строка создаёт одну карточку.
- Поля `layer_N_text` заполняют значение **text** в слоях, где в конфиге указан `name: "layer_N"`:
  - `layer_1_text` — заполняет текстовый слой с `name: "layer_1"`.
  - `layer_2_text` — заполняет QR‑слой с `name: "layer_2"` (QR перегенерируется).
  - `layer_3_text` — заполняет все текстовые элементы профиля ориентации, где `name: "layer_3"` (landscape/portrait/square).
- Если нужного `name` нет — значение пропускается.

> **Важно:** относительные пути (локальные файлы) из CSV в этой сборке не поддерживаются.

---

## 3) Сохранение коллекции в ZIP
**Кнопка:** `Save collection (.zip)` — скачивается архив cо всем проектом.  
Внутри: `manifest.json` + папка `images/` с файлами картинок.

**Формат/качество** (в панели экспорта):
- `Format`: `JPEG` (меньше размер) или `PNG` (без потерь).
- `Quality`: ползунок влияет на JPEG (50–95%).

---

## 4) Открытие коллекции из ZIP
**Кнопка:** `Open collection (.zip)` — выберите ранее сохранённый архив.  
Приложение восстановит порядок карточек, фон, трансформы и слои. QR‑коды воссоздаются по тексту.

Если в архиве отсутствует часть картинок — карточки загрузятся с заглушками, и вы увидите предупреждение.

---

## 5) Экспорт в PDF
**Кнопка:** `Export PDF` — каждая карточка становится отдельной страницей.  
Параметры формата и качества такие же, как при сохранении ZIP.

> Если PDF получился «тяжёлым», попробуйте `JPEG` + снизить «Quality».

---

## 6) Экспорт в CSV (если доступно в вашей сборке)
**Цель:** выгрузить список карточек в таблицу с колонками:
```
url,caption,layer_1_text,layer_2_text,layer_3_text
```
- В колонку `url` попадёт исходный URL, если он был известен при импорте. Если изображение добавлено локально (файл), `url` может быть пустым.
- `layer_N_text` — значения текущего текста слоёв с `name: "layer_N"` (в профиле ориентации — берётся «square» или приоритетная ориентация, в зависимости от реализации сборки).

> Если этой опции нет в меню — значит она отключена в вашей сборке. Обратитесь к разработчику.
